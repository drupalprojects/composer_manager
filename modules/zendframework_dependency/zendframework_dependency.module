<?php

/**
 * Implements hook_composer_json_alter().
 */
function zendframework_dependency_composer_json_alter(&$json) {
  $packages = Drupal::service('composer_manager.manager')->getCorePackages();
  $version = $packages['zendframework/zend-feed']['version'];

  // Replace the monolithic zendframework/zendframework package.
  $json['replace']['zendframework/zendframework'] = $version;

  // Require all components that make up the zendframework/zendframework package.
  $json['require']['zendframework/zend-authentication'] = $version;
  $json['require']['zendframework/zend-barcode'] = $version;
  $json['require']['zendframework/zend-cache'] = $version;
  $json['require']['zendframework/zend-captcha'] = $version;
  $json['require']['zendframework/zend-config'] = $version;
  $json['require']['zendframework/zend-db'] = $version;
  $json['require']['zendframework/zend-debug'] = $version;
  $json['require']['zendframework/zend-di'] = $version;
  $json['require']['zendframework/zend-file'] = $version;
  $json['require']['zendframework/zend-filter'] = $version;
  $json['require']['zendframework/zend-form'] = $version;
  $json['require']['zendframework/zend-i18n'] = $version;
  $json['require']['zendframework/zend-ldap'] = $version;
  $json['require']['zendframework/zend-log'] = $version;
  $json['require']['zendframework/zend-mail'] = $version;
  $json['require']['zendframework/zend-memory'] = $version;
  $json['require']['zendframework/zend-modulemanager'] = $version;
  $json['require']['zendframework/zend-navigation'] = $version;
  $json['require']['zendframework/zend-paginator'] = $version;
  $json['require']['zendframework/zend-permissions-acl'] = $version;
  $json['require']['zendframework/zend-permissions-rbac'] = $version;
  $json['require']['zendframework/zend-progressbar'] = $version;
  $json['require']['zendframework/zend-serializer'] = $version;
  $json['require']['zendframework/zend-session'] = $version;
  $json['require']['zendframework/zend-soap'] = $version;
  $json['require']['zendframework/zend-tag'] = $version;
  $json['require']['zendframework/zend-test'] = $version;
  $json['require']['zendframework/zend-text'] = $version;
  $json['require']['zendframework/zend-version'] = $version;
  $json['require']['zendframework/zend-xmlrpc'] = $version;
}
